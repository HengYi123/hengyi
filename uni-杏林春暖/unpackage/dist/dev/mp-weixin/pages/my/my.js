"use strict";const e=require("../../common/vendor.js"),m=require("../../common/assets.js"),r={data(){return{showAuthPopup:!1,tempAvatar:"",tempNickname:"",userInfo:{},orderItems:[{name:"待付款",icon:"/static/my/待付款.png"},{name:"待收货",icon:"/static/my/待收货.png"},{name:"待评价",icon:"/static/my/待评价.png"},{name:"退换/售后",icon:"/static/my/退换.png"},{name:"全部订单",icon:"/static/my/订单.png"}],settingItems:[{name:"客户服务",icon:"/static/my/客服中心.png"},{name:"消息中心",icon:"/static/my/消息中心.png"},{name:"商品收藏",icon:"/static/my/商品收藏.png"},{name:"我的足迹",icon:"/static/my/我的足迹.png"},{name:"设置",icon:"/static/my/设置.png"}]}},methods:{navigateToMap(){e.index.navigateTo({url:"/pages/map/map?source=my&address="+encodeURIComponent(this.userInfo.address||"")})},selectAvatar(){e.index.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:a=>{const o=a.tempFilePaths;o.length>0&&(this.tempAvatar=o[0],e.index.showToast({title:"头像已选择",icon:"success"}))},fail:a=>{e.index.__f__("error","at pages/my/my.vue:154","选择头像失败",a),e.index.showToast({title:"选择头像失败",icon:"none"})}})},saveNickname(a){this.tempNickname=a.detail.value},confirmAuth(){if(!this.tempNickname){e.index.showToast({title:"请设置昵称",icon:"none"});return}this.userInfo={avatarUrl:this.tempAvatar||"/static/my/用户头像.png",nickName:this.tempNickname,openid:"wx_"+Date.now().toString().slice(-6)},this.showAuthPopup=!1,e.index.showToast({title:"授权成功",icon:"success"})}}};if(!Array){const a=e.resolveComponent("my-nav-bar"),o=e.resolveComponent("my-tab-bar");(a+o)()}const p=()=>"../../components/my-nav-bar/my-nav-bar.js",u=()=>"../../components/my-tab-bar/my-tab-bar.js";Math||(p+u)();function h(a,o,y,v,n,s){return e.e({a:e.p({title:"我的"}),b:n.userInfo.avatarUrl||"/static/my/用户头像.png",c:e.o(t=>n.showAuthPopup=!0),d:e.t(n.userInfo.nickName||"未登录"),e:e.t(n.userInfo.openid||"无"),f:e.t(n.userInfo.address||"请设置"),g:m._imports_0$1,h:e.o((...t)=>s.navigateToMap&&s.navigateToMap(...t)),i:e.f(n.orderItems,(t,c,i)=>({a:t.icon,b:e.t(t.name)})),j:e.f(n.settingItems,(t,c,i)=>({a:t.icon,b:e.t(t.name)})),k:n.showAuthPopup},n.showAuthPopup?{l:e.o(t=>n.showAuthPopup=!1),m:n.tempAvatar||"/static/my/用户头像.png",n:e.o((...t)=>s.selectAvatar&&s.selectAvatar(...t)),o:e.o((...t)=>s.saveNickname&&s.saveNickname(...t)),p:n.tempNickname,q:e.o(t=>n.tempNickname=t.detail.value),r:e.o(t=>n.showAuthPopup=!1),s:e.o((...t)=>s.confirmAuth&&s.confirmAuth(...t))}:{},{t:m._imports_1$1})}const _=e._export_sfc(r,[["render",h],["__scopeId","data-v-2f1ef635"]]);wx.createPage(_);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/my/my.js.map
