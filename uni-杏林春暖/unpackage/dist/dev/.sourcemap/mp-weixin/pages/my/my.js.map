{"version":3,"file":"my.js","sources":["pages/my/my.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvbXkudnVl"],"sourcesContent":["<template>\r\n\t<my-nav-bar :title=\"'我的'\"></my-nav-bar>\r\n\t\t<view class=\"container-box\">\r\n\t\t\t<!-- 用户信息区域 -->\r\n\t\t\t<view class=\"user-box\">\r\n\t\t\t\t<!-- 用户头像（点击触发授权弹窗） -->\r\n\t\t\t\t<view class=\"user-image-box\">\r\n\t\t\t\t\t<image \r\n\t\t\t\t\t\t:src=\"userInfo.avatarUrl || '/static/my/用户头像.png'\" \r\n\t\t\t\t\t\tclass=\"user-image\"\r\n\t\t\t\t\t\t@click=\"showAuthPopup = true\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 用户数据展示 -->\r\n\t\t\t\t<view class=\"user-data\">\r\n\t\t\t\t\t<text class=\"user-data-text\">账号名称：{{userInfo.nickName || '未登录'}}</text>\r\n\t\t\t\t\t<text class=\"user-data-text\">账号ID：{{userInfo.openid || '无'}}</text>\r\n\t\t\t\t\t<!-- 收货地址（点击跳转地图页） -->\r\n\t\t\t\t\t<view class=\"address-row\" @click=\"navigateToMap\">\r\n\t\t\t\t\t\t<text class=\"user-data-text\">收货地址：{{userInfo.address || '请设置'}}</text>\r\n\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\tsrc=\"/static/my/右箭头.png\" \r\n\t\t\t\t\t\t\tclass=\"location-icon\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 功能入口网格布局 -->\r\n\t\t\t<view class=\"grid-container\">\r\n\t\t\t\t<!-- 订单管理入口 -->\r\n\t\t\t\t<view class=\"grid-row\">\r\n\t\t\t\t\t<view v-for=\"item in orderItems\" class=\"grid-item\">\r\n\t\t\t\t\t\t<image :src=\"item.icon\" class=\"icon\"></image>\r\n\t\t\t\t\t\t<text class=\"grid-text\">{{item.name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 设置管理入口 -->\r\n\t\t\t\t<view class=\"grid-row\">\r\n\t\t\t\t\t<view v-for=\"item in settingItems\" class=\"grid-item\">\r\n\t\t\t\t\t\t<image :src=\"item.icon\" class=\"icon\"></image>\r\n\t\t\t\t\t\t<text class=\"grid-text\">{{item.name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"about-box\">\r\n\t\t\t\t<view class=\"about-content-box\">\r\n\t\t\t\t\t<text class=\"about-text\">意见投递</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"about-content-box\">\r\n\t\t\t\t\t<text class=\"about-text\">关于我们</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"about-content-box\">\r\n\t\t\t\t\t<text class=\"about-text\">打赏</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 授权登录弹窗（条件渲染） -->\r\n\t\t\t<view v-if=\"showAuthPopup\" class=\"popup-container\">\r\n\t\t\t\t<!-- 遮罩层 -->\r\n\t\t\t\t<view class=\"popup-mask\" @tap=\"showAuthPopup = false\"></view>\r\n\t\t\t\t<!-- 弹窗内容 -->\r\n\t\t\t\t<view class=\"popup-content\">\r\n\t\t\t\t\t<view class=\"popup-header\">\r\n\t\t\t\t\t\t<text class=\"popup-title\">微信授权登录</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 头像设置区域 -->\r\n\t\t\t\t\t<view class=\"avatar-section\">\r\n\t\t\t\t\t\t<view class=\"avatar-preview\">\r\n\t\t\t\t\t\t\t<image :src=\"tempAvatar || '/static/my/用户头像.png'\" class=\"preview-image\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<button class=\"avatar-btn\" @tap=\"selectAvatar\">选择头像</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 昵称输入区域 -->\r\n\t\t\t\t\t<view class=\"nickname-section\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"nickname\"\r\n\t\t\t\t\t\t\tv-model=\"tempNickname\"\r\n\t\t\t\t\t\t\tplaceholder=\"设置昵称\"\r\n\t\t\t\t\t\t\tclass=\"nickname-input\"\r\n\t\t\t\t\t\t\tplaceholder-style=\"color: #999;\"\r\n\t\t\t\t\t\t\t@blur=\"saveNickname\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 提示信息 -->\r\n\t\t\t\t\t<view class=\"auth-tip\">\r\n\t\t\t\t\t\t<text>申请获取您的公开信息（昵称、头像等）</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 按钮区域 -->\r\n\t\t\t\t\t<view class=\"btn-group\">\r\n\t\t\t\t\t\t<button class=\"cancel-btn\" @tap=\"showAuthPopup = false\">取消</button>\r\n\t\t\t\t\t\t<button class=\"confirm-btn\" @tap=\"confirmAuth\">同意</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 底部提示栏 -->\r\n\t\t\t<view class=\"prompt-box\">\r\n\t\t\t\t<image src=\"/static/my/提醒.png\" class=\"prompt-iamge\"></image>\r\n\t\t\t\t<text>点击头像进行登录</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t<my-tab-bar></my-tab-bar>\n</template>\n\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowAuthPopup: false,\t\t// 控制授权弹窗显示\r\n\t\t\t\ttempAvatar: '',          \t// 临时存储选择的头像路径\r\n\t\t\t\ttempNickname: '',          \t// 临时存储输入的昵称\r\n\t\t\t\tuserInfo: {}, \t\t\t \t// 用户信息对象\r\n\t\t\t\t// 订单管理入口配置\r\n\t\t\t\torderItems: [\r\n\t\t\t\t\t{name: '待付款', icon: '/static/my/待付款.png'},\r\n\t\t\t\t\t{name: '待收货', icon: '/static/my/待收货.png'},\r\n\t\t\t\t\t{name: '待评价', icon: '/static/my/待评价.png'},\r\n\t\t\t\t\t{name: '退换/售后', icon: '/static/my/退换.png'},\r\n\t\t\t\t\t{name: '全部订单', icon: '/static/my/订单.png'}\r\n\t\t\t\t],\r\n\t\t\t\tsettingItems: [\r\n\t\t\t\t\t{name: '客户服务', icon: '/static/my/客服中心.png'},\r\n\t\t\t\t\t{name: '消息中心', icon: '/static/my/消息中心.png'},\r\n\t\t\t\t\t{name: '商品收藏', icon: '/static/my/商品收藏.png'},\r\n\t\t\t\t\t{name: '我的足迹', icon: '/static/my/我的足迹.png'},\r\n\t\t\t\t\t{name: '设置', icon: '/static/my/设置.png'}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 跳转至地图页面\r\n\t\t\tnavigateToMap() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/map/map?source=my&address=' + encodeURIComponent(this.userInfo.address || '')\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t  \r\n\t\t\t// 选择头像\r\n\t\t\tselectAvatar() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1, // 最多选择1张图片\r\n\t\t\t\t\tsizeType: ['compressed'], // 压缩图\r\n\t\t\t\t\tsourceType: ['album', 'camera'], // 从相册和相机选择\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// 获取选择的图片临时路径\r\n\t\t\t\t\t\tconst tempFilePaths = res.tempFilePaths;\r\n\t\t\t\t\t\tif (tempFilePaths.length > 0) {\r\n\t\t\t\t\t\t\t// 更新临时头像\r\n\t\t\t\t\t\t\tthis.tempAvatar = tempFilePaths[0];\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '头像已选择',\r\n\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.error('选择头像失败', err);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '选择头像失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t  \r\n\t\t\t// 保存昵称\r\n\t\t\tsaveNickname(e) {\r\n\t\t\t\tthis.tempNickname = e.detail.value;\r\n\t\t\t},\r\n\t\t\t  \r\n\t\t\t// 确认授权\r\n\t\t\tconfirmAuth() {\r\n\t\t\t\tif (!this.tempNickname) {\r\n\t\t\t\t\t  uni.showToast({\r\n\t\t\t\t\t\ttitle: '请设置昵称',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t  });\r\n\t\t\t\t\t  return;\r\n\t\t\t\t}\r\n\t\t\t\t  \r\n\t\t\t\t// 保存用户信息\r\n\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\tavatarUrl: this.tempAvatar || '/static/my/用户头像.png',\r\n\t\t\t\t\tnickName: this.tempNickname,\r\n\t\t\t\t\topenid: 'wx_' + Date.now().toString().slice(-6) // 模拟openid\r\n\t\t\t\t};\r\n\t\t\t\t  \r\n\t\t\t\tthis.showAuthPopup = false;\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '授权成功',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\t.container-box{\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #ebebeb;\r\n\t\tpadding-top: 20rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.user-box{\r\n\t\tposition: relative;\r\n\t\tflex: 1;\r\n\t\theight: 200rpx;\r\n\t\tbackground: linear-gradient(135deg, #f8f4e5, #e8f5e9);\r\n\t\tborder-radius: 40rpx;\r\n\t\tmargin: 0 14rpx;\r\n\t\talign-items: center;\r\n\t\tdisplay: flex;\r\n\t}\r\n\t\r\n\t.user-image-box{\r\n\t\theight: 120rpx;\r\n\t\twidth: 120rpx;\r\n\t\tmargin: 30rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 50rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t.user-image{\r\n\t\twidth: 85%;\r\n\t\theight: 85%;\r\n\t}\r\n\t\r\n\t.user-data{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: left;\r\n\t\tflex-direction: column;\r\n\t\tmargin-left: 30rpx;\r\n\t}\r\n\t\r\n\t.user-data-text{\r\n\t\tfont-size: 30rpx;\r\n\t\tmargin: 5rpx 0;\r\n\t}\r\n\t\r\n\t.address-row {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-direction: row;\r\n\t}\r\n\t\r\n\t.location-icon {\r\n\t\twidth: 26rpx; \r\n\t\theight: 26rpx; \r\n\t\tmargin-left: 5rpx;\r\n\t\tposition: relative;\r\n\t\ttop: 3rpx;\r\n\t}\r\n\t\r\n\t.popup-container {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 1000;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: flex-end;\r\n\t}\r\n\t\r\n\t.popup-mask {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\tz-index: 1001;\r\n\t}\r\n\t\r\n\t.popup-content {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 30rpx 30rpx 0 0;\r\n\t\tpadding: 30rpx;\r\n\t\tz-index: 1002;\r\n\t\tbox-sizing: border-box;\r\n\t\tanimation: popupSlide 0.35s ease-out; /* 添加入场动画 */\r\n\t}\r\n\t\r\n\t@keyframes popupSlide {\r\n\t\tfrom { transform: translateY(100%); }\r\n\t\tto { transform: translateY(0); }\r\n\t}\r\n\t\r\n\t.popup-header {\r\n\t\tpadding-bottom: 20rpx;\r\n\t\ttext-align: center;\r\n\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t}\r\n\t\r\n\t.popup-title {\r\n\t\tfont-size: 34rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tletter-spacing: 1rpx;\r\n\t}\r\n\t\r\n\t.avatar-section {\r\n\t\tpadding: 20rpx 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.avatar-preview {\r\n\t\twidth: 140rpx;\r\n\t\theight: 140rpx;\r\n\t\tborder-radius: 50%;\r\n\t\toverflow: hidden;\r\n\t\tborder: 2rpx solid #f0f0f0;\r\n\t\tmargin-bottom: 15rpx;\r\n\t\tbackground: #f8f8f8;\r\n\t}\r\n\t\r\n\t.preview-image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t.avatar-btn {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #07c160;\r\n\t\tbackground: none;\r\n\t\tpadding: 8rpx 30rpx;\r\n\t\tborder: 1rpx solid #07c160;\r\n\t\tborder-radius: 40rpx;\r\n\t\tline-height: 1.4;\r\n\t}\r\n\t\r\n\t.nickname-section {\r\n\t\tpadding-bottom: 25rpx;\r\n\t}\r\n\t\r\n\t.nickname-input {\r\n\t\twidth: 100%;\r\n\t\theight: 80rpx;\r\n\t\tborder: 1rpx solid #e0e0e0;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 0 20rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tbackground: #f9f9f9;\r\n\t}\r\n\t\r\n\t.auth-tip {\r\n\t\tpadding: 18rpx 0;\r\n\t\tbackground: #f8f8f8;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #777;\r\n\t\tborder-radius: 12rpx;\r\n\t\tmargin: 20rpx 0;\r\n\t}\r\n\t\r\n\t.btn-group {\r\n\t\tdisplay: flex;\r\n\t\tpadding-top: 15rpx;\r\n\t\tgap: 15rpx;\r\n\t}\r\n\t\r\n\t.cancel-btn, .confirm-btn {\r\n\t\tflex: 1;\r\n\t\theight: 85rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tborder-radius: 45rpx;\r\n\t}\r\n\t\r\n\t.cancel-btn {\r\n\t\tcolor: #666;\r\n\t\tbackground: #f0f0f0;\r\n\t\tborder: none;\r\n\t}\r\n\t\r\n\t.confirm-btn {\r\n\t\tcolor: #fff;\r\n\t\tbackground: #07c160;\r\n\t\tfont-weight: bold;\r\n\t\tborder: none;\r\n\t}\r\n\t\r\n\t.prompt-box{\r\n\t\tposition: fixed;\r\n\t\tbottom: 170rpx;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 75rpx;\r\n\t\tbackground: rgba(240, 212, 127, 0.95);\r\n\t\tpadding: 0 25rpx;\r\n\t\tz-index: 100;\r\n\t\tcolor: #5a471c;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\t\r\n\t.prompt-iamge{\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tmargin: 0 10rpx;\r\n\t}\r\n\t\r\n\t.grid-container {\r\n\t\tpadding: 10rpx 0;\r\n\t}\r\n\t\r\n\t.grid-row {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\theight: 150rpx;\r\n\t\tmargin: 15rpx;\r\n\t\tmargin-bottom: 0rpx;\r\n\t\tpadding:10rpx 5rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder: #fff 1rpx;\r\n\t\tborder-radius: 30rpx;\r\n\t}\r\n\t\r\n\t.grid-item {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tmin-width: 0; /* 防止内容溢出 */\r\n\t}\r\n\t\r\n\t.grid-text{\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\t\r\n\t.icon{\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t}\r\n\t\r\n\t.about-box{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tflex: 1;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin: 10rpx 14rpx;\r\n\t}\r\n\t\r\n\t.about-content-box{\r\n\t\theight: 100rpx;\r\n\t\tborder-top: #d3d3d3 solid 1rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\t\r\n\t.about-text{\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #7f7f7f;\r\n\t}\n</style>","import MiniProgramPage from 'D:/xiaochengxu/project-space/uni-杏林春暖/pages/my/my.vue'\nwx.createPage(MiniProgramPage)"],"names":["_sfc_main","uni","res","tempFilePaths","err","e","MiniProgramPage"],"mappings":"2FAsGMA,EAAU,CACd,MAAO,CACN,MAAO,CACN,cAAe,GACf,WAAY,GACZ,aAAc,GACd,SAAU,CAAE,EAEZ,WAAY,CACX,CAAC,KAAM,MAAO,KAAM,oBAAoB,EACxC,CAAC,KAAM,MAAO,KAAM,oBAAoB,EACxC,CAAC,KAAM,MAAO,KAAM,oBAAoB,EACxC,CAAC,KAAM,QAAS,KAAM,mBAAmB,EACzC,CAAC,KAAM,OAAQ,KAAM,mBAAmB,CACxC,EACD,aAAc,CACb,CAAC,KAAM,OAAQ,KAAM,qBAAqB,EAC1C,CAAC,KAAM,OAAQ,KAAM,qBAAqB,EAC1C,CAAC,KAAM,OAAQ,KAAM,qBAAqB,EAC1C,CAAC,KAAM,OAAQ,KAAM,qBAAqB,EAC1C,CAAC,KAAM,KAAM,KAAM,mBAAmB,CACvC,CACD,CACA,EACD,QAAQ,CAEP,eAAgB,CACfC,EAAAA,MAAI,WAAW,CACd,IAAI,oCAAsC,mBAAmB,KAAK,SAAS,SAAW,EAAE,CACzF,CAAC,CACD,EAGD,cAAe,CACdA,EAAAA,MAAI,YAAY,CACf,MAAO,EACP,SAAU,CAAC,YAAY,EACvB,WAAY,CAAC,QAAS,QAAQ,EAC9B,QAAUC,GAAQ,CAEjB,MAAMC,EAAgBD,EAAI,cACtBC,EAAc,OAAS,IAE1B,KAAK,WAAaA,EAAc,CAAC,EACjCF,EAAAA,MAAI,UAAU,CACb,MAAO,QACP,KAAM,SACP,CAAC,EAEF,EACD,KAAOG,GAAQ,CACdH,EAAc,MAAA,MAAA,QAAA,yBAAA,SAAUG,CAAG,EAC3BH,EAAAA,MAAI,UAAU,CACb,MAAO,SACP,KAAM,MACP,CAAC,CACF,CACD,CAAC,CACD,EAGD,aAAaI,EAAG,CACf,KAAK,aAAeA,EAAE,OAAO,KAC7B,EAGD,aAAc,CACb,GAAI,CAAC,KAAK,aAAc,CACrBJ,EAAAA,MAAI,UAAU,CACf,MAAO,QACP,KAAM,MACL,CAAC,EACD,MACH,CAGA,KAAK,SAAW,CACf,UAAW,KAAK,YAAc,sBAC9B,SAAU,KAAK,aACf,OAAQ,MAAQ,KAAK,IAAG,EAAG,WAAW,MAAM,EAAE,GAG/C,KAAK,cAAgB,GACrBA,EAAAA,MAAI,UAAU,CACb,MAAO,OACP,KAAM,SACP,CAAC,CACF,CACD,CACD,6iCC9LD,GAAG,WAAWK,CAAe"}