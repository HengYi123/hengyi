{"version":3,"file":"my-tab-bar.js","sources":["components/my-tab-bar/my-tab-bar.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDoveGlhb2NoZW5neHUvcHJvamVjdC1zcGFjZS91bmkt5p2P5p6X5pil5pqWL2NvbXBvbmVudHMvbXktdGFiLWJhci9teS10YWItYmFyLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<!-- 自定义TabBar容器 -->\n\t<view class=\"custom-tab-bar\">\r\n\t\t<!-- 循环渲染Tab项 -->\n\t\t<view \n\t\t\tv-for=\"(item, index) in tabList\" \n\t\t\t:key=\"index\"\n\t\t\tclass=\"tab-item\"\n\t\t\t@click=\"switchTab(item,index)\"\n\t\t\t>\n\t\t\t<image \n\t\t\t\tclass=\"tab-item-image\"\n\t\t\t\t:src=\"currentTab === index ? item.selectedIcon : item.icon\" />\n\t\t\t<text :class=\"{ active: currentTab === index }\">{{ item.text }}</text>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcurrentTab: 0,\t\t// 当前选中的Tab索引\n\t\t\ttabList: [\t\t\t// Tab配置数据\n\t\t\t\t{\n\t\t\t\t\tpagePath: \"/pages/index/index\",\n\t\t\t\t\ticon: \"/static/button/首页01.png\",\n\t\t\t\t\tselectedIcon: \"/static/button/首页02.png\",\n\t\t\t\t\ttext: \"首页\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpagePath: \"/pages/shoppingCart/shoppingCart\",\n\t\t\t\t\ticon: \"/static/button/购物车01.png\",\n\t\t\t\t\tselectedIcon: \"/static/button/购物车02.png\",\n\t\t\t\t\ttext: \"购物车\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpagePath: \"/pages/my/my\",\n\t\t\t\t\ticon: \"/static/button/用户01.png\",\n\t\t\t\t\tselectedIcon: \"/static/button/用户02.png\",\n\t\t\t\t\ttext: \"我的\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t},\n\tmounted(){\n\t\t// 监听全局页面显示事件\n\t\tuni.$on('tab-page-show',this.onTabPageShow);\n\t\t// 初始化时设置当前选中项\n\t\tthis.updateActiveTab();\n\t},\n\tbeforeDestroy() {\n\t\t// 组件销毁时移除监听\n\t\tuni.$off('tab-page-show', this.onTabPageShow);\n\t},\n\tmethods: {\r\n\t\t// Tab切换方法\n\t\tswitchTab(item,index) {\n\t\t\t// 立即更新UI响应\n\t\t\tthis.currentTab = index;\n\t\t\tuni.reLaunch({ \n\t\t\t\turl: item.pagePath\n\t\t\t});\n\t\t},\r\n\t\t\r\n\t\t// 页面显示事件处理\n\t\tonTabPageShow(route) {\n\t\t\tif (!route) return; // 确保路由存在\n\t\t\t\t\n\t\t\t// 路径格式处理 (去掉前面的 \"/\")\n\t\t\tconst path = route.startsWith('/') ? route : `/${route}`;\n\t\t\t\n\t\t\tif (!targetPath.startsWith('/pages')) {\n\t\t\t\ttargetPath = `/${targetPath}`;\n\t\t\t}\n\t\t\t\n\t\t\t// 匹配当前路径对应的tab索引\n\t\t\tconst index = this.tabList.findIndex(item => \n\t\t\t  item.pagePath === path || \n\t\t\t  item.pagePath === `/${path}`\n\t\t\t);\n\t\t\t\n\t\t\tif (index !== -1) this.currentTab = index;\n\t\t},\r\n\t\t\r\n\t\t// 更新激活Tab状态\n\t\tupdateActiveTab() {\n\t\t\t// 获取当前页面路径\n\t\t\tconst pages = getCurrentPages();\n\t\t\tif (!pages.length) return;\n\t\t\tconst currentRoute = '/' + pages[pages.length - 1].route;\n\t\t\t  \n\t\t\t// 匹配当前路径对应的tab索引\n\t\t\tconst activeIndex = this.tabList.findIndex(\n\t\t\t\titem => item.pagePath === currentRoute\n\t\t\t);\n\t\t\tif (activeIndex !== -1) this.currentTab = activeIndex;\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.custom-tab-bar {\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tpadding-bottom: env(safe-area-inset-bottom); /* 适配全面屏手机 */\n\theight: 50px;\n\tbackground-color: #f8f8f8;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tborder-top: 2px solid #e5e5e5;\n}\n\n.tab-item {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n}\n\n.tab-item-image {\n\twidth: 24px;\n\theight: 24px;\n\tmargin-bottom: 2px;\n}\n\n.active {\n\tcolor: #007aff;\n}\n</style>","import Component from 'D:/xiaochengxu/project-space/uni-杏林春暖/components/my-tab-bar/my-tab-bar.vue'\nwx.createComponent(Component)"],"names":["_sfc_main","uni","item","index","route","path","pages","currentRoute","activeIndex","Component"],"mappings":"uDAmBKA,EAAU,CACd,MAAO,CACN,MAAO,CACN,WAAY,EACZ,QAAS,CACR,CACC,SAAU,qBACV,KAAM,0BACN,aAAc,0BACd,KAAM,IACN,EACD,CACC,SAAU,mCACV,KAAM,2BACN,aAAc,2BACd,KAAM,KACN,EACD,CACC,SAAU,eACV,KAAM,0BACN,aAAc,0BACd,KAAM,IACP,CACD,EAED,EACD,SAAS,CAERC,EAAAA,MAAI,IAAI,gBAAgB,KAAK,aAAa,EAE1C,KAAK,gBAAe,CACpB,EACD,eAAgB,CAEfA,EAAAA,MAAI,KAAK,gBAAiB,KAAK,aAAa,CAC5C,EACD,QAAS,CAER,UAAUC,EAAKC,EAAO,CAErB,KAAK,WAAaA,EAClBF,EAAAA,MAAI,SAAS,CACZ,IAAKC,EAAK,QACX,CAAC,CACD,EAGD,cAAcE,EAAO,CACpB,GAAI,CAACA,EAAO,OAGZ,MAAMC,EAAOD,EAAM,WAAW,GAAG,EAAIA,EAAQ,IAAIA,CAAK,GAEjD,WAAW,WAAW,QAAQ,IAClC,WAAa,IAAI,UAAU,IAI5B,MAAMD,EAAQ,KAAK,QAAQ,UAAUD,GACnCA,EAAK,WAAaG,GAClBH,EAAK,WAAa,IAAIG,CAAI,IAGxBF,IAAU,KAAI,KAAK,WAAaA,EACpC,EAGD,iBAAkB,CAEjB,MAAMG,EAAQ,kBACd,GAAI,CAACA,EAAM,OAAQ,OACnB,MAAMC,EAAe,IAAMD,EAAMA,EAAM,OAAS,CAAC,EAAE,MAG7CE,EAAc,KAAK,QAAQ,UAChCN,GAAQA,EAAK,WAAaK,GAEvBC,IAAgB,KAAI,KAAK,WAAaA,EAC3C,CACD,CACD,wPClGA,GAAG,gBAAgBC,CAAS"}