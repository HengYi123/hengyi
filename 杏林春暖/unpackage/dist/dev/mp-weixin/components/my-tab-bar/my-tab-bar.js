"use strict";const a=require("../../common/vendor.js"),h={data(){return{currentTab:0,tabList:[{pagePath:"/pages/index/index",icon:"/static/button/首页01.png",selectedIcon:"/static/button/首页02.png",text:"首页"},{pagePath:"/pages/shoppingCart/shoppingCart",icon:"/static/button/购物车01.png",selectedIcon:"/static/button/购物车02.png",text:"购物车"},{pagePath:"/pages/my/my",icon:"/static/button/用户01.png",selectedIcon:"/static/button/用户02.png",text:"我的"}]}},mounted(){a.index.$on("tab-page-show",this.onTabPageShow),this.updateActiveTab()},beforeDestroy(){a.index.$off("tab-page-show",this.onTabPageShow)},methods:{switchTab(t,e){this.currentTab=e,a.index.reLaunch({url:t.pagePath})},onTabPageShow(t){if(!t)return;const e=t.startsWith("/")?t:`/${t}`;targetPath.startsWith("/pages")||(targetPath=`/${targetPath}`);const n=this.tabList.findIndex(s=>s.pagePath===e||s.pagePath===`/${e}`);n!==-1&&(this.currentTab=n)},updateActiveTab(){const t=getCurrentPages();if(!t.length)return;const e="/"+t[t.length-1].route,n=this.tabList.findIndex(s=>s.pagePath===e);n!==-1&&(this.currentTab=n)}}};function p(t,e,n,s,r,i){return{a:a.f(r.tabList,(o,c,b)=>({a:r.currentTab===c?o.selectedIcon:o.icon,b:a.t(o.text),c:r.currentTab===c?1:"",d:c,e:a.o(u=>i.switchTab(o,c),c)}))}}const g=a._export_sfc(h,[["render",p],["__scopeId","data-v-e4f57006"]]);wx.createComponent(g);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/my-tab-bar/my-tab-bar.js.map
